<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="settings-content">
  <!-- Appearance Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">APPEARANCE</h2>
    <ion-list class="settings-list">
      <ion-item lines="none" class="settings-item">
        <ion-icon slot="start" name="moon-outline"></ion-icon>
        <ion-label>Dark Mode</ion-label>
        <ion-toggle
          slot="end"
          mode="ios"
          [checked]="isDarkMode"
          (ionChange)="toggleDarkMode($event)"
        ></ion-toggle>
      </ion-item>
    </ion-list>
  </div>

  <!-- Reminders Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">REMINDERS</h2>
    <ion-list class="settings-list">
      <!-- Hymnal Reminder -->
      <ion-item lines="none" class="settings-item">
        <ion-icon slot="start" name="musical-notes-outline"></ion-icon>
        <ion-label>Daily Hymnal Reminder</ion-label>
        <ion-toggle
          slot="end"
          mode="ios"
          [checked]="isHymnalReminderEnabled"
          (ionChange)="toggleHymnalReminder($event)"
        ></ion-toggle>
      </ion-item>
      <ion-item *ngIf="isHymnalReminderEnabled" lines="none" class="settings-item">
        <ion-icon slot="start" name="time-outline"></ion-icon>
        <ion-label>Hymnal Reminder Time</ion-label>
        <ion-datetime-button datetime="hymnal-time" slot="end"></ion-datetime-button>
        <ion-modal [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime
              id="hymnal-time"
              presentation="time"
              [value]="hymnalReminderTime"
              (ionChange)="updateHymnalReminderTime($event)"
            ></ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>

      <!-- Daily Verse -->
      <ion-item lines="none" class="settings-item">
        <ion-icon slot="start" name="book-outline"></ion-icon>
        <ion-label>Daily Bible Verse</ion-label>
        <ion-toggle
          slot="end"
          mode="ios"
          [checked]="isDailyVerseEnabled"
          (ionChange)="toggleDailyVerse($event)"
        ></ion-toggle>
      </ion-item>
      <ion-item *ngIf="isDailyVerseEnabled" lines="none" class="settings-item">
        <ion-icon slot="start" name="time-outline"></ion-icon>
        <ion-label>Verse Time</ion-label>
        <ion-datetime-button datetime="verse-time" slot="end"></ion-datetime-button>
        <ion-modal [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime
              id="verse-time"
              presentation="time"
              [value]="dailyVerseTime"
              (ionChange)="updateDailyVerseTime($event)"
            ></ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>
    </ion-list>
  </div>

  <!-- Engagement Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">ENGAGEMENT</h2>
    <ion-list class="settings-list">
      <ion-item button detail lines="none" class="settings-item" (click)="sendFeedback()">
        <ion-icon slot="start" name="chatbubble-outline"></ion-icon>
        <ion-label>
          <h3>Feedback</h3>
          <p>Share your thoughts with us</p>
        </ion-label>
      </ion-item>

      <ion-item *ngIf="isMobile" button detail lines="none" class="settings-item" (click)="shareApp()">
        <ion-icon slot="start" name="share-social-outline"></ion-icon>
        <ion-label>
          <h3>Share App</h3>
          <p>Share with friends and family</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- Support Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">SUPPORT</h2>
    <ion-list class="settings-list">
      <ion-item button lines="none" class="settings-item" (click)="supportViaPayPal()">
        <ion-icon slot="start" name="logo-paypal"></ion-icon>
        <ion-label>
          <h3>PayPal</h3>
          <p>Support via PayPal</p>
        </ion-label>
      </ion-item>

      <ion-item button lines="none" class="settings-item" (click)="supportViaPatreon()">
        <ion-icon slot="start" src="assets/icons/patreon.svg"></ion-icon>
        <ion-label>
          <h3>Patreon</h3>
          <p>Become a patron</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- Legal Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">LEGAL</h2>
    <ion-list class="settings-list">
      <ion-item button detail lines="none" class="settings-item" (click)="openPrivacyPolicy()">
        <ion-icon slot="start" name="shield-outline"></ion-icon>
        <ion-label>Privacy Policy</ion-label>
      </ion-item>

      <ion-item button detail lines="none" class="settings-item" (click)="openTermsAndConditions()">
        <ion-icon slot="start" name="document-text-outline"></ion-icon>
        <ion-label>Terms of Service</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- About Section -->
  <div class="settings-section">
    <h2 class="settings-section-header">ABOUT</h2>
    <div class="about-container">
      <img src="assets/icon/favicon.png" alt="App Icon" class="app-icon">
      <h2 class="app-name">SDA Kinyarwanda Hymnal</h2>
      <p class="version">Version {{ appVersion }}</p>
      <p class="developer">Created with ❤️ by <span>Blaise Sebagabo</span></p>
      <p class="kinyarwanda-title">Indirimbo Zo Guhimbaza Imana 500</p>
    </div>
  </div>
</ion-content>